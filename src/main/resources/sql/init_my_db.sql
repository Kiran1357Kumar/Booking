CREATE TABLE CITY (
    id NUMBER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    city_name VARCHAR2(100) NOT NULL
);

INSERT INTO CITY (id, city_name) VALUES (1, 'Bengaluru');
INSERT INTO CITY (id, city_name) VALUES (2, 'Hyderabad');
INSERT INTO CITY (id, city_name) VALUES (3, 'Chennai');

CREATE TABLE LANGUAGE (
    id NUMBER GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    city_id NUMBER,
    language_name VARCHAR2(100) NOT NULL
);
INSERT INTO LANGUAGE (id, city_id, language_name) VALUES (1, 1, 'Kannada');
INSERT INTO LANGUAGE (id, city_id, language_name) VALUES (2, 1, 'Telugu');
INSERT INTO LANGUAGE (id, city_id, language_name) VALUES (3, 1, 'Tamil');
INSERT INTO LANGUAGE (id, city_id, language_name) VALUES (4, 1, 'Hindi');

INSERT INTO LANGUAGE (id, city_id, language_name) VALUES (5, 2, 'Kannada');
INSERT INTO LANGUAGE (id, city_id, language_name) VALUES (6, 2, 'Telugu');
INSERT INTO LANGUAGE (id, city_id, language_name) VALUES (7, 2, 'Tamil');

INSERT INTO LANGUAGE (id, city_id, language_name) VALUES (8, 3, 'Tamil');


CREATE TABLE MOVIES (
    ID BIGINT GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    CITY_ID BIGINT,
    LANGUAGE_ID BIGINT,
    MOVIE_NAME VARCHAR(100) NOT NULL,
    MOVIE_DURATION VARCHAR(50),
    MOVIE_RATING VARCHAR(10),
    MOVIE_THEATER VARCHAR(100),
    MOVIE_THEATER_CODE VARCHAR(10),
    AREA VARCHAR(50),
    AREA_CODE VARCHAR(10)
);

INSERT INTO MOVIES (CITY_ID, LANGUAGE_ID, MOVIE_NAME, MOVIE_DURATION, MOVIE_RATING, MOVIE_THEATER, MOVIE_THEATER_CODE, AREA, AREA_CODE) 
VALUES (1, 1, 'RajaKumara', '2h 28m', '9.0', 'PVR Cinemas', 'PVR001', 'RAJAJINAGR', '560021');
INSERT INTO MOVIES (CITY_ID, LANGUAGE_ID, MOVIE_NAME, MOVIE_DURATION, MOVIE_RATING, MOVIE_THEATER, MOVIE_THEATER_CODE, AREA, AREA_CODE) 
VALUES (1, 1, 'Kanthara', '2h 40m', '9.5', 'INOX', 'PVR002', 'YALAHANKA', '560022');
INSERT INTO MOVIES (CITY_ID, LANGUAGE_ID, MOVIE_NAME, MOVIE_DURATION, MOVIE_RATING, MOVIE_THEATER, MOVIE_THEATER_CODE, AREA, AREA_CODE) 
VALUES (1, 1, 'KGF', '2h 30m', '8.7', 'RADHAKRISHNA', 'PVR003', 'R T NAGAR', '560023');

INSERT INTO MOVIES (CITY_ID, LANGUAGE_ID, MOVIE_NAME, MOVIE_DURATION, MOVIE_RATING, MOVIE_THEATER, MOVIE_THEATER_CODE, AREA, AREA_CODE) 
VALUES (1, 2, 'BahuBhali', '2h 48m', '9.6', 'INOX', 'PVR004', 'HEBBAL', '560024');
INSERT INTO MOVIES (CITY_ID, LANGUAGE_ID, MOVIE_NAME, MOVIE_DURATION, MOVIE_RATING, MOVIE_THEATER, MOVIE_THEATER_CODE, AREA, AREA_CODE) 
VALUES (1, 2, 'RRR', '2h 41m', '7.6', 'Srinivasa', 'PVR005', 'Vidyaranyapura', '560025');

INSERT INTO MOVIES (CITY_ID, LANGUAGE_ID, MOVIE_NAME, MOVIE_DURATION, MOVIE_RATING, MOVIE_THEATER, MOVIE_THEATER_CODE, AREA, AREA_CODE) 
VALUES (1, 3, 'Raja Rani', '2h 18m', '6.6', 'INOX', 'PVR004', 'HEBBAL', '560026');
INSERT INTO MOVIES (CITY_ID, LANGUAGE_ID, MOVIE_NAME, MOVIE_DURATION, MOVIE_RATING, MOVIE_THEATER, MOVIE_THEATER_CODE, AREA, AREA_CODE) 
VALUES (1, 3, 'Badhsa', '2h 31m', '8.6', 'Srinivasa', 'PVR005', 'Vidyaranyapura', '560027');

INSERT INTO MOVIES (CITY_ID, LANGUAGE_ID, MOVIE_NAME, MOVIE_DURATION, MOVIE_RATING, MOVIE_THEATER, MOVIE_THEATER_CODE, AREA, AREA_CODE) 
VALUES (1, 4, 'Idiots', '2h 20m', '8.6', 'INOX', 'PVR006', 'M G Road', '560028');
INSERT INTO MOVIES (CITY_ID, LANGUAGE_ID, MOVIE_NAME, MOVIE_DURATION, MOVIE_RATING, MOVIE_THEATER, MOVIE_THEATER_CODE, AREA, AREA_CODE) 
VALUES (1, 4, 'Dhoom', '2h 15m', '7.2', 'PVR', 'PVR007', 'Gandhi NAgar', '560029');


CREATE TABLE THEATER (
    id BIGINT PRIMARY KEY AUTO_INCREMENT,
    city_id BIGINT,
    language_id BIGINT,
    movie_id BIGINT,
    movie_name VARCHAR(100) NOT NULL,
    available_seats BIGINT,
    show_date DATE,
    show_time TIME,
    movie_price DOUBLE,
    movie_theater_code VARCHAR(20) NOT NULL,
    created_at TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,
    updated_at TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP ON UPDATE CURRENT_TIMESTAMP
);
INSERT INTO THEATER (city_id, language_id, movie_id, movie_name, available_seats, show_date, show_time, movie_price, movie_theater_code) 
VALUES (1, 1, 1, 'RajaKumara', 100, '2026-02-11', '1:30', 200.00, 'RAJAJI_560021');
INSERT INTO THEATER (city_id, language_id, movie_id, movie_name, available_seats, show_date, show_time, movie_price, movie_theater_code) 
VALUES (1, 1, 1, 'RajaKumara', 150, '2026-02-11', '2:30', 200.00, 'RAJAJI_560021');
INSERT INTO THEATER (city_id, language_id, movie_id, movie_name, available_seats, show_date, show_time, movie_price, movie_theater_code) 
VALUES (1, 1, 1, 'RajaKumara', 120, '2026-02-11', '3:30', 200.00, 'RAJAJI_560021');

CREATE TABLE USERS (
    id BIGINT GENERATED BY DEFAULT AS IDENTITY PRIMARY KEY,
    user_name VARCHAR(100) NOT NULL,
    mobile_number VARCHAR(10) NOT NULL,
    address VARCHAR(200) NOT NULL,
    account_balance DOUBLE NOT NULL
);
INSERT INTO USERS (id, user_name, mobile_number, address, account_balance)
VALUES (1, 'Kiran', '9123456789', 'Bangalore, India', 2500.00);
INSERT INTO USERS (id, user_name, mobile_number, address, account_balance)
VALUES (2, 'Kumar', '9988776655', 'San Francisco, USA', 3200.75);

CREATE TABLE PAYMENT (
    id BIGINT NOT NULL AUTO_INCREMENT,
    user_id BIGINT,
    user_name VARCHAR(100) NOT NULL,
    mobile_number VARCHAR(10) NOT NULL,
    tickets_booked BIGINT,
    movie_name VARCHAR(200) NOT NULL,
    payment_type VARCHAR(10) NOT NULL,
    amount_credited DOUBLE NOT NULL,
    PRIMARY KEY (id)
);
